  <header class="aci59a-0 eyAIuG haute sticky-limit small-device-header">
    <div class="sc-1gnwgfb-2 stom">
    </div>
       <!-- <div class="head-te"><marquee behavior="" direction="">La communauté internationale réaffirme son soutien aux pays les plus pauvres</marquee></div> -->
  </header>

<div class="mx-auto sign-up p-4">
  <h2 class="text-center h2 mb-3">Inscrivez-vous</h2>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), class:'form') do |f| %>
    <ol style="list-style: none;">
      <li><%= render "devise/shared/error_messages", resource: resource %></li>
    </ol>
    <div class="field mb-2 row">
      <div class="col-md-6 margin-b2">
        <%= f.label :first_name, "Nom *" %>
        <%= f.text_field :first_name, autofocus: true, autocomplete: "first_name", class:'form-control', placeholder: 'Nom', required: true%>
      </div>
      <div class="col-md-6 margin-b2">
        <%= f.label :last_name, "Prénoms *" %>
        <%= f.text_field :last_name, autofocus: true, autocomplete: "last_name", class:'form-control', placeholder: 'Prénoms', required: true %>
      </div>
    </div>

    <div class="field mb-2 row">
      <div class="col-md-6 margin-b2">
        <%= f.label :phone, "Téléphone *" %>
        <%= f.text_field :phone, autofocus: true, autocomplete: "phone", class:'form-control', placeholder: 'Téléphone', required: true%>
      </div>
      <div class="col-md-6 margin-b2">
        <%= f.label :Organisme, "Organisme *"%>

        <%@organism = []%>
        <% Ptf.all.order(:title).each do |p|%>

          <%@organism << p%>

        <%end%>
        <% Iga.all.each do |i|%>

          <%@organism << i%>

        <%end%>

        <select class="form-control" name="organisme" id="selectBox" onchange="changeFunc()" required="true">
          <option value="" selected disabled hidden>Sélectionner</option>
          <option value="autre">Autre</option>
          <% @organism.each do |o|%>
            <option value="<%= o.title%>"><%= o.title%></option>
          <%end%>
        </select>

      </div>
    </div>
    <div class="field mb-2 row">
      <div class="col-md-6 margin-b2">
        <%= f.label :fonction, "Fonction" %>
        <%= f.text_field :fonction, autofocus: true, autocomplete: "fonction", class:'form-control', placeholder: 'Fonction'%>
      </div>
      <div class="col-md-6 margin-b2" id="changeDiv" style="display: none">
        <label for="autre">Autre *</label>
        <input type="text" name="nom" id="AutreOrganisme" placeholder="A préciser" class="form-control">
      </div>
    </div>


    <div class="field mb-2">
      <%= f.label :email, "Email *" %>
      <%= f.email_field :email, autofocus: true, autocomplete: "email", class:'form-control', placeholder:'Email', required: true %>
    </div>

    <div class="field mb-2">
      <%= f.label :password, "Mot de passe" %>
      <%= f.password_field :password, autocomplete: "new-password", class:'form-control', placeholder: '6 caractères minimum' %>
    </div>

    <div class="field mb-2">
      <%= f.label :password_confirmation, "Entrez le mot de passe à nouveau" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class:'form-control', placeholder: 'Confirmer' %>
    </div>

    <div class="actions mb-2">
      <%= f.submit "S'inscrire", class:'sc-eerKOB cfnPHQ mt-3' %>
    </div>
  <% end %>
  <%= render "devise/shared/links" %>
</div>

<script type="text/javascript">
    function changeFunc(){
      var selectBox = document.getElementById("selectBox");
      var selectedValue = selectBox.options[selectBox.selectedIndex].value;
      var autre = document.getElementById("AutreOrganisme");
      var changeDiv = document.getElementById("changeDiv");
      if(selectedValue == "autre"){
        autre.required = true;
        changeDiv.style.display = "block";
      }else{
        autre.type = "hidden";
      }
    }
</script>